{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/ryanbasque/Desktop/Projects/Join-Us/join-us-frontend/src/pages/CreateAccount/index.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useContext, useState } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport styles, { Container, ImageContainer, Title, TitleContainer, FormContainer, HaveAccountContainer, HaveAccountButton, HaveAccountText, ButtonContainer, BottomBar, StepContainer } from \"./styles\";\nimport { LogoImage, GreenButton } from \"../../components/atoms\";\nimport { SignupStepOne, SignupStepTwo } from \"../../components/molecules\";\nimport { Wizard } from \"./../../components/organisms\";\nimport { HttpContext } from \"../../context/httpContext\";\nimport useToast from \"../../hooks/useToast\";\n\nvar CreateAccount = function CreateAccount() {\n  var request = useContext(HttpContext);\n  var navigation = useNavigation();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      onNameChange = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      onEmailChange = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      onPasswordChange = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      passwordConfirmation = _useState8[0],\n      onPasswordConfirmationChange = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      invalidEmail = _useState10[0],\n      setInvalidEmail = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      invalidPassword = _useState12[0],\n      setInvalidPassword = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      passwordDontMatch = _useState14[0],\n      setPasswordDontMatch = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      invalidName = _useState16[0],\n      setInvalidName = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      showLoadingSpin = _useState18[0],\n      setShowLoadingSpin = _useState18[1];\n\n  var _useState19 = useState(true),\n      _useState20 = _slicedToArray(_useState19, 2),\n      stepOneIsShowing = _useState20[0],\n      setStepOneIsShowing = _useState20[1];\n\n  var _useState21 = useState([{\n    index: 0,\n    active: true\n  }, {\n    index: 1,\n    active: false\n  }]),\n      _useState22 = _slicedToArray(_useState21, 1),\n      wizardController = _useState22[0];\n\n  var _useState23 = useState(new Animated.Value(0)),\n      _useState24 = _slicedToArray(_useState23, 1),\n      opacity = _useState24[0];\n\n  var _useState25 = useState(new Animated.Value(1000)),\n      _useState26 = _slicedToArray(_useState25, 1),\n      sendToRight = _useState26[0];\n\n  var _useState27 = useState(new Animated.Value(-1000)),\n      _useState28 = _slicedToArray(_useState27, 1),\n      sendToLeftRight = _useState28[0];\n\n  var _useState29 = useState(new Animated.Value(0)),\n      _useState30 = _slicedToArray(_useState29, 1),\n      sendToLeft = _useState30[0];\n\n  var _useState31 = useState(true),\n      _useState32 = _slicedToArray(_useState31, 2),\n      isGoing = _useState32[0],\n      setIsGoing = _useState32[1];\n\n  var handleNextPage = function handleNextPage(screenTitle) {\n    return navigation.navigate(screenTitle);\n  };\n\n  var createUser = function createUser() {\n    return _regeneratorRuntime.async(function createUser$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setShowLoadingSpin(true);\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(request.post(\"/signup\", {\n              name: name,\n              email: email,\n              password: password,\n              passwordConfirmation: passwordConfirmation\n            }));\n\n          case 4:\n            useToast('error', 'ParabÃ©ns! ðŸ¥³', 'Sua conta foi criada com sucesso!');\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](1);\n            useToast('error', 'Um erro inesperado aconteceu! ðŸ™', _context.t0.message);\n\n          case 10:\n            _context.prev = 10;\n            setShowLoadingSpin(false);\n            return _context.finish(10);\n\n          case 13:\n            ;\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 7, 10, 13]], Promise);\n  };\n\n  var handleSubmitUser = function handleSubmitUser() {\n    if (stepOneIsShowing) {\n      if (!name) {\n        setInvalidName(true);\n        useToast(\"error\", \"Ops!\", \"VocÃª precisa colocar um nome! ðŸ˜…\");\n        return;\n      } else setInvalidName(false);\n\n      if (!email) {\n        setInvalidEmail(true);\n        useToast(\"error\", \"Ops!\", \"VocÃª precisa inserir um e-mail! ðŸ˜£\");\n        return;\n      } else {\n        if (!email.includes('@')) {\n          setInvalidEmail(true);\n          useToast(\"error\", \"Ops!\", \"VocÃª precisa inserir um e-mail vÃ¡lido! ðŸ˜£\");\n          return;\n        } else setInvalidEmail(false);\n      }\n\n      ;\n      setTimeout(function () {\n        setStepOneIsShowing(false);\n      }, 200);\n      setIsGoing(true);\n      animateWizard(true, false);\n      setTimeout(function () {\n        animateWizard(false, false);\n      }, 200);\n      wizardController[0].active = false;\n      wizardController[1].active = true;\n    } else {\n      if (!password) {\n        useToast(\"error\", \"Ops!\", \"VocÃª precisa criar uma senha! ðŸ¤“\");\n        setInvalidPassword(true);\n        return;\n      } else setInvalidPassword(false);\n\n      if (!passwordConfirmation) {\n        useToast(\"error\", \"Ops!\", \"VocÃª precisa confirmar sua senha! ðŸ˜•\");\n        setPasswordDontMatch(true);\n        return;\n      } else setPasswordDontMatch(false);\n\n      if (password !== passwordConfirmation) {\n        useToast(\"error\", \"Ops!\", \"Suas senhas nÃ£o coincidem! ðŸ˜©\");\n        return;\n      } else setPasswordDontMatch(false);\n\n      createUser();\n    }\n\n    ;\n  };\n\n  var changePageWithDots = function changePageWithDots(dotNumber) {\n    wizardController.map(function (element, index) {\n      if (dotNumber === index) {\n        element.active = true;\n      } else {\n        element.active = false;\n        return;\n      }\n\n      ;\n    });\n\n    if (dotNumber === 0) {\n      setTimeout(function () {\n        return setStepOneIsShowing(true);\n      }, 200);\n      setIsGoing(false);\n      animateWizard(false, true);\n    }\n\n    ;\n\n    if (dotNumber === 1 && name && email && email.includes('@')) {\n      setIsGoing(true);\n      setStepOneIsShowing(false);\n      animateWizard(false, false);\n    }\n\n    ;\n  };\n\n  var animateWizard = function animateWizard(isStepOne, isBack) {\n    if (!isBack) {\n      Animated.timing(isStepOne ? sendToLeft : sendToRight, {\n        toValue: isStepOne ? -1000 : 0,\n        duration: 500,\n        useNativeDriver: true\n      }).start();\n    } else {\n      Animated.timing(sendToLeftRight, {\n        toValue: 0,\n        duration: 500,\n        useNativeDriver: true\n      }).start();\n    }\n\n    ;\n  };\n\n  Animated.timing(opacity, {\n    toValue: 1,\n    duration: 1500,\n    useNativeDriver: true\n  }).start();\n  return React.createElement(SafeAreaView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    style: {\n      paddingBottom: 100\n    },\n    contentContainerStyle: styles.scrollViewContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, React.createElement(KeyboardAvoidingView, {\n    style: {\n      marginTop: 30\n    },\n    behavior: \"position\",\n    enabled: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, React.createElement(ImageContainer, {\n    style: {\n      opacity: opacity\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, React.createElement(LogoImage, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 15\n    }\n  })), React.createElement(TitleContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, React.createElement(Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, \"Join Us!\")), React.createElement(Wizard, {\n    dotsStructure: wizardController,\n    selectDot: changePageWithDots,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, React.createElement(FormContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 15\n    }\n  }, stepOneIsShowing ? React.createElement(StepContainer, {\n    style: {\n      transform: [{\n        translateX: isGoing ? sendToLeft : sendToLeftRight\n      }]\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }\n  }, React.createElement(SignupStepOne, {\n    name: name,\n    invalidName: invalidName,\n    onNameChange: onNameChange,\n    email: email,\n    invalidEmail: invalidEmail,\n    onEmailChange: onEmailChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 23\n    }\n  })) : React.createElement(StepContainer, {\n    style: {\n      transform: [{\n        translateX: sendToRight\n      }]\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 21\n    }\n  }, React.createElement(SignupStepTwo, {\n    password: password,\n    invalidPassword: invalidPassword,\n    onPasswordChange: onPasswordChange,\n    confirmPassword: passwordConfirmation,\n    onConfirmPasswordChange: onPasswordConfirmationChange,\n    invalidConfirmPassword: passwordDontMatch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 23\n    }\n  })))))), React.createElement(BottomBar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }\n  }, React.createElement(HaveAccountContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 11\n    }\n  }, React.createElement(HaveAccountButton, {\n    onPress: function onPress() {\n      return handleNextPage(\"Login\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }\n  }, React.createElement(HaveAccountText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 15\n    }\n  }, \"J\\xE1 tenho uma conta\"))), React.createElement(ButtonContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }, React.createElement(GreenButton, {\n    active: true,\n    title: \"Criar conta\",\n    isLoading: showLoadingSpin,\n    onPress: handleSubmitUser,\n    activeIcon: stepOneIsShowing,\n    style: stepOneIsShowing ? styles.alternativeButton : styles.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default CreateAccount;","map":{"version":3,"sources":["/Users/ryanbasque/Desktop/Projects/Join-Us/join-us-frontend/src/pages/CreateAccount/index.tsx"],"names":["React","useContext","useState","useNavigation","styles","Container","ImageContainer","Title","TitleContainer","FormContainer","HaveAccountContainer","HaveAccountButton","HaveAccountText","ButtonContainer","BottomBar","StepContainer","LogoImage","GreenButton","SignupStepOne","SignupStepTwo","Wizard","HttpContext","useToast","CreateAccount","request","navigation","name","onNameChange","email","onEmailChange","password","onPasswordChange","passwordConfirmation","onPasswordConfirmationChange","invalidEmail","setInvalidEmail","invalidPassword","setInvalidPassword","passwordDontMatch","setPasswordDontMatch","invalidName","setInvalidName","showLoadingSpin","setShowLoadingSpin","stepOneIsShowing","setStepOneIsShowing","index","active","wizardController","Animated","Value","opacity","sendToRight","sendToLeftRight","sendToLeft","isGoing","setIsGoing","handleNextPage","screenTitle","navigate","createUser","post","message","handleSubmitUser","includes","setTimeout","animateWizard","changePageWithDots","dotNumber","map","element","isStepOne","isBack","timing","toValue","duration","useNativeDriver","start","paddingBottom","scrollViewContainer","marginTop","transform","translateX","alternativeButton","button"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { SafeAreaView, KeyboardAvoidingView, ScrollView, Animated } from \"react-native\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nimport styles, { \n  Container,\n  ImageContainer, \n  Title, \n  TitleContainer, \n  FormContainer, \n  HaveAccountContainer, \n  HaveAccountButton, \n  HaveAccountText, \n  ButtonContainer, \n  BottomBar, \n  StepContainer\n} from \"./styles\";\n\nimport { LogoImage, GreenButton } from \"../../components/atoms\";\nimport { SignupStepOne, SignupStepTwo } from \"../../components/molecules\";\nimport { Wizard } from './../../components/organisms';\n\nimport { HttpContext } from \"../../context/httpContext\";\nimport useToast from \"../../hooks/useToast\";\n\nconst CreateAccount: React.FC = () => {\n  const request = useContext(HttpContext);\n  const navigation = useNavigation();\n\n  const [name, onNameChange] = useState<string>(\"\");\n  const [email, onEmailChange] = useState<string>(\"\");\n  const [password, onPasswordChange] = useState<string>(\"\");\n  const [passwordConfirmation, onPasswordConfirmationChange] = useState<string>(\"\");\n  const [invalidEmail, setInvalidEmail] = useState<boolean>(false);\n  const [invalidPassword, setInvalidPassword] = useState<boolean>(false);\n  const [passwordDontMatch, setPasswordDontMatch] = useState<boolean>(false);\n  const [invalidName, setInvalidName] = useState<boolean>(false);\n  const [showLoadingSpin, setShowLoadingSpin] = useState<boolean>(false);\n  const [stepOneIsShowing, setStepOneIsShowing] = useState<boolean>(true);\n  const [wizardController] = useState([{index: 0, active: true}, {index: 1, active: false}]);\n  const [opacity] = useState(new Animated.Value(0));\n  const [sendToRight] = useState(new Animated.Value(1000));\n  const [sendToLeftRight] = useState(new Animated.Value(-1000));\n  const [sendToLeft] = useState(new Animated.Value(0));\n  const [isGoing, setIsGoing] = useState<boolean>(true);\n\n  const handleNextPage = (screenTitle: string) => navigation.navigate(screenTitle);\n\n  const createUser = async () => {\n    setShowLoadingSpin(true);\n\n    try {\n      await request.post(\"/signup\", {\n        name,\n        email,\n        password,\n        passwordConfirmation,\n      });\n      useToast('error', 'ParabÃ©ns! ðŸ¥³', 'Sua conta foi criada com sucesso!');\n    } catch (error: any) {\n      useToast('error', 'Um erro inesperado aconteceu! ðŸ™', error.message);\n    } finally {\n      setShowLoadingSpin(false);\n    };\n  }\n\n  const handleSubmitUser = () => {\n    if(stepOneIsShowing) {\n      if(!name) {\n        setInvalidName(true);\n        useToast(\"error\", \"Ops!\", \"VocÃª precisa colocar um nome! ðŸ˜…\");\n        return;\n      } else setInvalidName(false);\n  \n      if (!email) {\n        setInvalidEmail(true);\n        useToast(\"error\", \"Ops!\", \"VocÃª precisa inserir um e-mail! ðŸ˜£\");\n        return;\n      } else {\n        if(!email.includes('@')) {\n          setInvalidEmail(true);\n          useToast(\"error\", \"Ops!\", \"VocÃª precisa inserir um e-mail vÃ¡lido! ðŸ˜£\");\n          return;\n        } else setInvalidEmail(false);\n      };\n\n      setTimeout(() => {\n        setStepOneIsShowing(false);\n      }, 200);\n\n      setIsGoing(true);\n\n      animateWizard(true, false);\n\n      setTimeout(() => {\n        animateWizard(false, false);\n      }, 200);\n\n      wizardController[0].active = false;\n      wizardController[1].active = true;\n    } else {\n      if(!password) {\n        useToast(\"error\", \"Ops!\", \"VocÃª precisa criar uma senha! ðŸ¤“\");\n        setInvalidPassword(true);\n        return;\n      } else setInvalidPassword(false);\n  \n      if(!passwordConfirmation) {\n        useToast(\"error\", \"Ops!\", \"VocÃª precisa confirmar sua senha! ðŸ˜•\");\n        setPasswordDontMatch(true);\n        return;\n      } else setPasswordDontMatch(false);\n  \n      if (password !== passwordConfirmation) {\n        useToast(\"error\", \"Ops!\", \"Suas senhas nÃ£o coincidem! ðŸ˜©\");\n        return;\n      } else setPasswordDontMatch(false);\n\n      createUser();\n    };\n\n  };\n\n  const changePageWithDots = (dotNumber: number) => {\n    wizardController.map((element, index) => {\n      if(dotNumber === index) {\n        element.active = true;\n      } else {\n        element.active = false;\n        return;\n      };\n    });\n\n    if(dotNumber === 0) {\n      setTimeout(() => setStepOneIsShowing(true), 200);\n      setIsGoing(false);\n      animateWizard(false, true);\n    };\n\n    if(dotNumber === 1 && name && email && email.includes('@')) {\n      setIsGoing(true);\n      setStepOneIsShowing(false);\n      animateWizard(false, false);\n    };\n  };\n\n  const animateWizard = (isStepOne: boolean, isBack: boolean) => {\n    if(!isBack) {\n      Animated.timing(isStepOne ? sendToLeft : sendToRight, {\n        toValue:isStepOne ? -1000 : 0,\n        duration: 500, \n        useNativeDriver: true\n      }).start();\n    } else {\n      Animated.timing(sendToLeftRight, {\n        toValue: 0,\n        duration: 500, \n        useNativeDriver: true\n      }).start();\n    };\n  };\n\n  Animated.timing(opacity, {\n    toValue: 1,\n    duration: 1500,\n    useNativeDriver: true,\n  }).start();\n\n  return (\n    <SafeAreaView>\n      <ScrollView style={{paddingBottom: 100}} contentContainerStyle={styles.scrollViewContainer}>\n        <KeyboardAvoidingView\n          style={{ marginTop: 30 }}\n          behavior=\"position\"\n          enabled\n        >\n          <Container>\n\n            <ImageContainer style={{ opacity }}>\n              <LogoImage />\n            </ImageContainer>\n\n            <TitleContainer>\n              <Title>Join Us!</Title>\n            </TitleContainer>\n\n            <Wizard\n              dotsStructure={wizardController}\n              selectDot={changePageWithDots}\n            >\n              <FormContainer>\n                {\n                  stepOneIsShowing ? (\n                    <StepContainer\n                      style={{ transform: [{ translateX: isGoing ? sendToLeft : sendToLeftRight }] }}\n                    >\n                      <SignupStepOne\n                        name={name}\n                        invalidName={invalidName}\n                        onNameChange={onNameChange}\n                        email={email}\n                        invalidEmail={invalidEmail}\n                        onEmailChange={onEmailChange}\n                      />\n                    </StepContainer>\n                  ) : (\n                    <StepContainer\n                      style={{ transform: [{translateX: sendToRight}] }}\n                    >\n                      <SignupStepTwo\n                        password={password}\n                        invalidPassword={invalidPassword}\n                        onPasswordChange={onPasswordChange}\n                        confirmPassword={passwordConfirmation}\n                        onConfirmPasswordChange={onPasswordConfirmationChange}\n                        invalidConfirmPassword={passwordDontMatch}\n                      />\n                    </StepContainer>\n                  )\n                }\n              </FormContainer>\n            </Wizard>\n          </Container>\n        </KeyboardAvoidingView>\n\n        <BottomBar>\n          <HaveAccountContainer>\n            <HaveAccountButton onPress={() => handleNextPage(\"Login\")}>\n              <HaveAccountText>JÃ¡ tenho uma conta</HaveAccountText>\n            </HaveAccountButton>\n\n          </HaveAccountContainer>\n\n          <ButtonContainer>\n            <GreenButton\n              active\n              title=\"Criar conta\"\n              isLoading={showLoadingSpin}\n              onPress={handleSubmitUser}\n              activeIcon={stepOneIsShowing}\n              style={stepOneIsShowing ? styles.alternativeButton : styles.button}\n            />\n          </ButtonContainer>\n        </BottomBar>\n\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nexport default CreateAccount;"]},"metadata":{},"sourceType":"module"}